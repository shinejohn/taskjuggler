const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/LandingPage-BQ009GCV.js","js/vue-vendor-BFreJ1An.js","js/ui-vendor-DelVp1tp.js","js/LoginPage-DpvKQKOV.js","js/utils-vendor-B9ygI19o.js","js/RegisterPage-CsToU5Cb.js","js/organizations-BeLDuyV9.js","js/OnboardingPage-4IsC2emS.js","js/index-CMI_8iS_.js","js/Separator.vue_vue_type_script_setup_true_lang-UpEJj3Ga.js","js/index-YgZVUsNe.js","js/Progress.vue_vue_type_script_setup_true_lang-CAbzwvpG.js","js/DashboardPage-CO98zl6w.js","js/DashboardLayout.vue_vue_type_script_setup_true_lang-CfYC6v2a.js","js/CoordinatorCard.vue_vue_type_script_setup_true_lang-BdpU3jp6.js","js/TableHeader.vue_vue_type_script_setup_true_lang-BAK7VMpj.js","js/coordinators-cKpivT3u.js","js/format-DaYpM1Fu.js","js/CoordinatorsPage-HWLT5AYX.js","js/CoordinatorDetailPage-CKGM98in.js","js/ContactsPage-079zyTjR.js","js/request-t1OiQL2I.js","js/AppointmentsPage-DVT9GrR_.js","js/appointments-BenL8upM.js","js/status-DdzIA5VN.js","js/contact-MrFpTDs4.js","js/CallsPage-iHo4k8BK.js","js/calls-DX-k_dpT.js","js/AnalyticsPage-CesE2u5O.js","js/BillingPage-DICXTvCP.js","js/CampaignsPage-DbxIFEFd.js","js/SettingsPage-CRELbuD-.js"])))=>i.map(i=>d[i]);
import{d as b,r as v,c as L,a as S,o as I,b as O,e as k,f as M,g as D,i as V,j as K,k as $}from"./vue-vendor-BFreJ1An.js";import{a as A}from"./utils-vendor-B9ygI19o.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();class U{cache=new Map;pendingRequests=new Map;getCacheKey(e,t){const s=t?Object.keys(t).sort().map(n=>`${n}=${JSON.stringify(t[n])}`).join("&"):"";return`${e}${s?`?${s}`:""}`}get(e,t){const s=this.getCacheKey(e,t),n=this.cache.get(s);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(s),null):n.data:null}set(e,t,s=6e4,n){const a=this.getCacheKey(e,n);this.cache.set(a,{data:t,timestamp:Date.now(),ttl:s})}invalidate(e){if(typeof e=="string")for(const t of this.cache.keys())t.includes(e)&&this.cache.delete(t);else for(const t of this.cache.keys())e.test(t)&&this.cache.delete(t)}clear(){this.cache.clear()}getPendingRequest(e){return this.pendingRequests.get(e)||null}setPendingRequest(e,t){this.pendingRequests.set(e,t),t.finally(()=>{this.pendingRequests.delete(e)})}clearPendingRequests(){this.pendingRequests.clear()}}const w=new U,W={MEDIUM:6e4};class j{pendingRequests=new Map;REQUEST_TIMEOUT=3e4;cancelRequest(e){const t=this.pendingRequests.get(e);return t?(t.cancel("Request cancelled"),this.pendingRequests.delete(e),!0):!1}cancelAllRequests(){this.pendingRequests.forEach(e=>{e.cancel("All requests cancelled")}),this.pendingRequests.clear()}cancelStaleRequests(){const e=Date.now(),t=[];this.pendingRequests.forEach((s,n)=>{e-s.timestamp>this.REQUEST_TIMEOUT&&(t.push(n),s.cancel("Request timeout"))}),t.forEach(s=>{this.pendingRequests.delete(s)})}addRequest(e,t){this.cancelRequest(e),this.pendingRequests.set(e,{cancel:t,timestamp:Date.now()})}removeRequest(e){this.pendingRequests.delete(e)}getPendingCount(){return this.pendingRequests.size}}const f=new j;function N(r){const e=`${r.method?.toUpperCase()||"GET"}:${r.url}:${r.params?JSON.stringify(r.params):""}`;return{cancelToken:new A.CancelToken(s=>{f.addRequest(e,s)}),cancelKey:e}}let y=null;function B(r=5e3){y||(y=setInterval(()=>{f.cancelStaleRequests()},r))}class X{metrics=[];apiCalls=[];MAX_METRICS=1e3;MAX_API_CALLS=500;recordMetric(e,t,s="ms"){this.metrics.push({name:e,value:t,unit:s,timestamp:Date.now()}),this.metrics.length>this.MAX_METRICS&&this.metrics.shift()}recordApiCall(e,t,s,n){this.apiCalls.push({url:e,method:t,duration:s,status:n,timestamp:Date.now()}),this.apiCalls.length>this.MAX_API_CALLS&&this.apiCalls.shift()}getMetrics(e){return e?this.metrics.filter(t=>t.name===e):[...this.metrics]}getApiCalls(e){return e?this.apiCalls.filter(t=>t.url.includes(e)):[...this.apiCalls]}getAverageApiDuration(e){const t=e?this.getApiCalls(e):this.apiCalls;return t.length===0?0:t.reduce((n,a)=>n+a.duration,0)/t.length}getSlowestApiCalls(e=10){return[...this.apiCalls].sort((t,s)=>s.duration-t.duration).slice(0,e)}getApiErrorRate(e){const t=e?this.getApiCalls(e):this.apiCalls;return t.length===0?0:t.filter(n=>n.status===null||n.status>=400).length/t.length}clear(){this.metrics=[],this.apiCalls=[]}export(){return{metrics:[...this.metrics],apiCalls:[...this.apiCalls],summary:{totalMetrics:this.metrics.length,totalApiCalls:this.apiCalls.length,averageApiDuration:this.getAverageApiDuration(),errorRate:this.getApiErrorRate()}}}}const _=new X;function R(r,e,t,s){const n=performance.now()-t;_.recordApiCall(r,e,n,s)}function x(){if(!(typeof window>"u")&&"PerformanceObserver"in window){try{new PerformanceObserver(e=>{const t=e.getEntries(),s=t[t.length-1];s&&_.recordMetric("LCP",s.renderTime||s.loadTime,"ms")}).observe({entryTypes:["largest-contentful-paint"]})}catch{}try{new PerformanceObserver(e=>{e.getEntries().forEach(s=>{_.recordMetric("FID",s.processingStart-s.startTime,"ms")})}).observe({entryTypes:["first-input"]})}catch{}try{let r=0;new PerformanceObserver(t=>{t.getEntries().forEach(n=>{n.hadRecentInput||(r+=n.value)}),_.recordMetric("CLS",r,"score")}).observe({entryTypes:["layout-shift"]})}catch{}}}const m=A.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});m.interceptors.request.use(r=>{const e=g();if(e.token&&(r.headers.Authorization=`Bearer ${e.token}`),r.__startTime=performance.now(),r.cancelToken===void 0&&r.cancel!==!1){const{cancelToken:t,cancelKey:s}=N(r);r.cancelToken=t,r.__cancelKey=s}if(r.method==="get"&&r.cache!==!1){const t=w.get(r.url,r.params);if(t){const s=r.__cancelKey;return s&&f.removeRequest(s),Promise.resolve({...r,data:t,headers:r.headers,status:200,statusText:"OK",config:r,request:{}})}}return r});m.interceptors.response.use(r=>{const e=r.config.__startTime;e&&R(r.config.url||"",r.config.method||"GET",e,r.status);const t=r.config.__cancelKey;t&&f.removeRequest(t);const s=r.config;if(s.method==="get"&&s.cache!==!1){const n=s.cacheTTL||W.MEDIUM;w.set(s.url,r.data,n,s.params)}return r},r=>{const e=r.config?.__startTime;if(e&&R(r.config?.url||"",r.config?.method||"GET",e,r.response?.status||null),!A.isCancel(r)){const t=r.config?.__cancelKey;t&&f.removeRequest(t)}if(r.response,r.response?.status===401)g().logout(),window.location.href="/login";else{const t=r.response?.data?.message||r.response?.data?.error||r.message||"An error occurred";window.$toast&&window.$toast.error(t)}return Promise.reject(r)});const g=b("auth",()=>{const r=v(null),e=v(localStorage.getItem("coordinator_token")),t=v(!1),s=L(()=>!!e.value&&!!r.value);async function n(p,o){t.value=!0;try{const u=await m.post("/auth/login",{email:p,password:o});return e.value=u.data.token,r.value=u.data.user,e.value&&localStorage.setItem("coordinator_token",e.value),u.data}finally{t.value=!1}}async function a(p){t.value=!0;try{const o=await m.post("/auth/register",p);return e.value=o.data.token,r.value=o.data.user,e.value&&localStorage.setItem("coordinator_token",e.value),o.data}finally{t.value=!1}}async function c(){e.value=null,r.value=null,localStorage.removeItem("coordinator_token")}async function l(){if(e.value)try{const p=await m.get("/auth/user");r.value=p.data}catch{await c()}}return{user:r,token:e,loading:t,isAuthenticated:s,login:n,register:a,logout:c,fetchUser:l}}),G=S({__name:"App",setup(r){const e=g();return I(()=>{e.token&&e.fetchUser()}),(t,s)=>{const n=k("router-view");return M(),O(n)}}}),z=(r,e)=>{const t=r.__vccOpts||r;for(const[s,n]of e)t[s]=n;return t},F=z(G,[["__scopeId","data-v-95493fb4"]]),H="modulepreload",J=function(r){return"/"+r},q={},i=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let p=function(o){return Promise.all(o.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");n=p(t.map(o=>{if(o=J(o),o in q)return;q[o]=!0;const u=o.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":H,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((C,P)=>{d.addEventListener("load",C),d.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return n.then(c=>{for(const l of c||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},T=D({history:V(),routes:[{path:"/",name:"landing",component:()=>i(()=>import("./LandingPage-BQ009GCV.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1}},{path:"/login",name:"login",component:()=>i(()=>import("./LoginPage-DpvKQKOV.js"),__vite__mapDeps([3,1,2,4])),meta:{requiresAuth:!1}},{path:"/register",name:"register",component:()=>i(()=>import("./RegisterPage-CsToU5Cb.js"),__vite__mapDeps([5,1,6,4,2])),meta:{requiresAuth:!1}},{path:"/onboarding",name:"onboarding",component:()=>i(()=>import("./OnboardingPage-4IsC2emS.js"),__vite__mapDeps([7,2,1,8,9,10,11,6,4])),meta:{requiresAuth:!1}},{path:"/dashboard",name:"dashboard",component:()=>i(()=>import("./DashboardPage-CO98zl6w.js"),__vite__mapDeps([12,13,1,2,8,11,10,14,15,6,4,16,17])),meta:{requiresAuth:!0}},{path:"/coordinators",name:"coordinators",component:()=>i(()=>import("./CoordinatorsPage-HWLT5AYX.js"),__vite__mapDeps([18,1,13,2,14,8,16,6,4])),meta:{requiresAuth:!0}},{path:"/coordinators/:id",name:"coordinator-detail",component:()=>i(()=>import("./CoordinatorDetailPage-CKGM98in.js"),__vite__mapDeps([19,1])),meta:{requiresAuth:!0}},{path:"/contacts",name:"contacts",component:()=>i(()=>import("./ContactsPage-079zyTjR.js"),__vite__mapDeps([20,1,13,2,6,4,21])),meta:{requiresAuth:!0}},{path:"/appointments",name:"appointments",component:()=>i(()=>import("./AppointmentsPage-DVT9GrR_.js"),__vite__mapDeps([22,1,13,2,23,6,4,16,17,24,25])),meta:{requiresAuth:!0}},{path:"/calls",name:"calls",component:()=>i(()=>import("./CallsPage-iHo4k8BK.js"),__vite__mapDeps([26,1,8,9,10,15,13,2,27,6,4,17,24,25,21])),meta:{requiresAuth:!0}},{path:"/calendar",name:"calendar",component:()=>i(()=>import("./AppointmentsPage-DVT9GrR_.js"),__vite__mapDeps([22,1,13,2,23,6,4,16,17,24,25])),meta:{requiresAuth:!0}},{path:"/analytics",name:"analytics",component:()=>i(()=>import("./AnalyticsPage-CesE2u5O.js"),__vite__mapDeps([28,13,1,2,27,6,4,23,16])),meta:{requiresAuth:!0}},{path:"/billing",name:"billing",component:()=>i(()=>import("./BillingPage-DICXTvCP.js"),__vite__mapDeps([29,1,13,2,16,6,4])),meta:{requiresAuth:!0}},{path:"/campaigns",name:"campaigns",component:()=>i(()=>import("./CampaignsPage-DbxIFEFd.js"),__vite__mapDeps([30,13,1,2,6,4,24])),meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:()=>i(()=>import("./SettingsPage-CRELbuD-.js"),__vite__mapDeps([31,13,1,2,6,4])),meta:{requiresAuth:!0}}]});T.beforeEach((r,e,t)=>{const s=g();if(r.path==="/"){t();return}r.meta.requiresAuth&&!s.isAuthenticated?t("/login"):(r.path==="/login"||r.path==="/register")&&s.isAuthenticated?t("/dashboard"):t()});function Q(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("Service Worker registered:",r.scope),setInterval(()=>{r.update()},6e4),r.addEventListener("updatefound",()=>{const e=r.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&confirm("New version available! Refresh to update?")&&window.location.reload()})})}).catch(r=>{console.error("Service Worker registration failed:",r)})})}const E=K(F),Y=$();E.use(Y);E.use(T);E.mount("#app");Q();x();B();export{i as _,m as a,w as b,g as u};
