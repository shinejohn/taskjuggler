const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/LandingPage-C1xSXgTe.js","js/vue-vendor-lZgBCM-Y.js","js/ui-vendor-XL1sGzTt.js","js/LoginPage-ApXErPit.js","js/index-DjyVIXzc.js","js/Input.vue_vue_type_script_setup_true_lang-DAsqCPaM.js","js/index-Dt4uSB3H.js","js/PasswordInput.vue_vue_type_script_setup_true_lang-DwmW8Tte.js","js/utils-vendor-B9ygI19o.js","js/RegisterPage-B5nC4TtI.js","js/ForgotPasswordPage-DJuZInLQ.js","js/CardContent.vue_vue_type_script_setup_true_lang-BV8KmGM6.js","js/ResetPasswordPage-D-l7mMwT.js","js/ProfilePage-B7WBSajH.js","js/SubscribePage-BKXVNLio.js","css/SubscribePage-B9ZsPUey.css","js/OnboardingPage-D2vL2iB1.js","js/Separator.vue_vue_type_script_setup_true_lang-D9TAi-8I.js","js/index-C1AbbWbk.js","js/CardTitle.vue_vue_type_script_setup_true_lang-C65XERRF.js","js/Progress.vue_vue_type_script_setup_true_lang-D4YlrqfE.js","js/organizations-B-TbRSUr.js","js/DashboardPage-DU77MDtV.js","js/DashboardLayout.vue_vue_type_script_setup_true_lang--joD49fW.js","js/CoordinatorCard.vue_vue_type_script_setup_true_lang-yINn1rD-.js","js/TableHeader.vue_vue_type_script_setup_true_lang-BUjGviFc.js","js/coordinators-SjO_FPaV.js","js/format-DaYpM1Fu.js","js/CoordinatorsPage-BWWLGkUf.js","js/CoordinatorDetailPage-CtojyQUT.js","js/ContactsPage-B4fmK0W1.js","js/request-t1OiQL2I.js","js/AppointmentsPage-BliYAdZq.js","js/appointments-Bzht8nKU.js","js/status-DdzIA5VN.js","js/contact-CkUglU_H.js","js/CallsPage-CzhnBiII.js","js/calls-CIsQ6CtL.js","js/AnalyticsPage-Dqut6IIv.js","js/BillingPage-DtfrOg4d.js","js/CampaignsPage-CkJefyAm.js","js/SettingsPage-BPjeibB_.js"])))=>i.map(i=>d[i]);
import{d as b,r as v,c as L,a as I,o as O,b as S,e as D,f as k,g as M,i as V,j as K,k as $}from"./vue-vendor-lZgBCM-Y.js";import{a as A}from"./utils-vendor-B9ygI19o.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();class U{cache=new Map;pendingRequests=new Map;getCacheKey(e,r){const s=r?Object.keys(r).sort().map(n=>`${n}=${JSON.stringify(r[n])}`).join("&"):"";return`${e}${s?`?${s}`:""}`}get(e,r){const s=this.getCacheKey(e,r),n=this.cache.get(s);return n?Date.now()-n.timestamp>n.ttl?(this.cache.delete(s),null):n.data:null}set(e,r,s=6e4,n){const a=this.getCacheKey(e,n);this.cache.set(a,{data:r,timestamp:Date.now(),ttl:s})}invalidate(e){if(typeof e=="string")for(const r of this.cache.keys())r.includes(e)&&this.cache.delete(r);else for(const r of this.cache.keys())e.test(r)&&this.cache.delete(r)}clear(){this.cache.clear()}getPendingRequest(e){return this.pendingRequests.get(e)||null}setPendingRequest(e,r){this.pendingRequests.set(e,r),r.finally(()=>{this.pendingRequests.delete(e)})}clearPendingRequests(){this.pendingRequests.clear()}}const w=new U,W={MEDIUM:6e4};class j{pendingRequests=new Map;REQUEST_TIMEOUT=3e4;cancelRequest(e){const r=this.pendingRequests.get(e);return r?(r.cancel("Request cancelled"),this.pendingRequests.delete(e),!0):!1}cancelAllRequests(){this.pendingRequests.forEach(e=>{e.cancel("All requests cancelled")}),this.pendingRequests.clear()}cancelStaleRequests(){const e=Date.now(),r=[];this.pendingRequests.forEach((s,n)=>{e-s.timestamp>this.REQUEST_TIMEOUT&&(r.push(n),s.cancel("Request timeout"))}),r.forEach(s=>{this.pendingRequests.delete(s)})}addRequest(e,r){this.cancelRequest(e),this.pendingRequests.set(e,{cancel:r,timestamp:Date.now()})}removeRequest(e){this.pendingRequests.delete(e)}getPendingCount(){return this.pendingRequests.size}}const f=new j;function N(t){const e=`${t.method?.toUpperCase()||"GET"}:${t.url}:${t.params?JSON.stringify(t.params):""}`;return{cancelToken:new A.CancelToken(s=>{f.addRequest(e,s)}),cancelKey:e}}let R=null;function X(t=5e3){R||(R=setInterval(()=>{f.cancelStaleRequests()},t))}class x{metrics=[];apiCalls=[];MAX_METRICS=1e3;MAX_API_CALLS=500;recordMetric(e,r,s="ms"){this.metrics.push({name:e,value:r,unit:s,timestamp:Date.now()}),this.metrics.length>this.MAX_METRICS&&this.metrics.shift()}recordApiCall(e,r,s,n){this.apiCalls.push({url:e,method:r,duration:s,status:n,timestamp:Date.now()}),this.apiCalls.length>this.MAX_API_CALLS&&this.apiCalls.shift()}getMetrics(e){return e?this.metrics.filter(r=>r.name===e):[...this.metrics]}getApiCalls(e){return e?this.apiCalls.filter(r=>r.url.includes(e)):[...this.apiCalls]}getAverageApiDuration(e){const r=e?this.getApiCalls(e):this.apiCalls;return r.length===0?0:r.reduce((n,a)=>n+a.duration,0)/r.length}getSlowestApiCalls(e=10){return[...this.apiCalls].sort((r,s)=>s.duration-r.duration).slice(0,e)}getApiErrorRate(e){const r=e?this.getApiCalls(e):this.apiCalls;return r.length===0?0:r.filter(n=>n.status===null||n.status>=400).length/r.length}clear(){this.metrics=[],this.apiCalls=[]}export(){return{metrics:[...this.metrics],apiCalls:[...this.apiCalls],summary:{totalMetrics:this.metrics.length,totalApiCalls:this.apiCalls.length,averageApiDuration:this.getAverageApiDuration(),errorRate:this.getApiErrorRate()}}}}const _=new x;function y(t,e,r,s){const n=performance.now()-r;_.recordApiCall(t,e,n,s)}function B(){if(!(typeof window>"u")&&"PerformanceObserver"in window){try{new PerformanceObserver(e=>{const r=e.getEntries(),s=r[r.length-1];s&&_.recordMetric("LCP",s.renderTime||s.loadTime,"ms")}).observe({entryTypes:["largest-contentful-paint"]})}catch{}try{new PerformanceObserver(e=>{e.getEntries().forEach(s=>{_.recordMetric("FID",s.processingStart-s.startTime,"ms")})}).observe({entryTypes:["first-input"]})}catch{}try{let t=0;new PerformanceObserver(r=>{r.getEntries().forEach(n=>{n.hadRecentInput||(t+=n.value)}),_.recordMetric("CLS",t,"score")}).observe({entryTypes:["layout-shift"]})}catch{}}}const m=A.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});m.interceptors.request.use(t=>{const e=g();if(e.token&&(t.headers.Authorization=`Bearer ${e.token}`),t.headers["X-App-Context"]="coordinator",t.__startTime=performance.now(),t.cancelToken===void 0&&t.cancel!==!1){const{cancelToken:r,cancelKey:s}=N(t);t.cancelToken=r,t.__cancelKey=s}if(t.method==="get"&&t.cache!==!1){const r=w.get(t.url,t.params);if(r){const s=t.__cancelKey;return s&&f.removeRequest(s),Promise.resolve({...t,data:r,headers:t.headers,status:200,statusText:"OK",config:t,request:{}})}}return t});m.interceptors.response.use(t=>{const e=t.config.__startTime;e&&y(t.config.url||"",t.config.method||"GET",e,t.status);const r=t.config.__cancelKey;r&&f.removeRequest(r);const s=t.config;if(s.method==="get"&&s.cache!==!1){const n=s.cacheTTL||W.MEDIUM;w.set(s.url,t.data,n,s.params)}return t},t=>{const e=t.config?.__startTime;if(e&&y(t.config?.url||"",t.config?.method||"GET",e,t.response?.status||null),!A.isCancel(t)){const r=t.config?.__cancelKey;r&&f.removeRequest(r)}if(t.response,t.response?.status===401)g().logout(),window.location.href="/login";else{const r=t.response?.data?.message||t.response?.data?.error||t.message||"An error occurred";window.$toast&&window.$toast.error(r)}return Promise.reject(t)});const g=b("auth",()=>{const t=v(null),e=v(localStorage.getItem("coordinator_token")),r=v(!1),s=L(()=>!!e.value&&!!t.value);async function n(p,i){r.value=!0;try{const l=await m.post("/auth/login",{email:p,password:i}),d=l.data.data||l.data;return e.value=d.token,t.value=d.user,e.value&&localStorage.setItem("coordinator_token",e.value),l.data}finally{r.value=!1}}async function a(p){r.value=!0;try{const i=await m.post("/auth/register",p),l=i.data.data||i.data;return e.value=l.token,t.value=l.user,e.value&&localStorage.setItem("coordinator_token",e.value),i.data}finally{r.value=!1}}async function c(){e.value=null,t.value=null,localStorage.removeItem("coordinator_token")}async function u(){if(e.value)try{const p=await m.get("/auth/user");t.value=p.data.data||p.data}catch{await c()}}return{user:t,token:e,loading:r,isAuthenticated:s,login:n,register:a,logout:c,fetchUser:u}}),G=I({__name:"App",setup(t){const e=g();return O(()=>{e.token&&e.fetchUser()}),(r,s)=>{const n=D("router-view");return k(),S(n)}}}),z=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},F=z(G,[["__scopeId","data-v-95493fb4"]]),H="modulepreload",J=function(t){return"/"+t},q={},o=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){let p=function(i){return Promise.all(i.map(l=>Promise.resolve(l).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");n=p(r.map(i=>{if(i=J(i),i in q)return;q[i]=!0;const l=i.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":H,l||(h.as="script"),h.crossOrigin="",h.href=i,u&&h.setAttribute("nonce",u),document.head.appendChild(h),l)return new Promise((C,P)=>{h.addEventListener("load",C),h.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${i}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},T=M({history:V(),routes:[{path:"/",name:"landing",component:()=>o(()=>import("./LandingPage-C1xSXgTe.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1}},{path:"/login",name:"login",component:()=>o(()=>import("./LoginPage-ApXErPit.js"),__vite__mapDeps([3,1,4,5,6,7,2,8])),meta:{requiresAuth:!1}},{path:"/register",name:"register",component:()=>o(()=>import("./RegisterPage-B5nC4TtI.js"),__vite__mapDeps([9,1,4,5,6,7,2,8])),meta:{requiresAuth:!1}},{path:"/forgot-password",name:"forgot-password",component:()=>o(()=>import("./ForgotPasswordPage-DJuZInLQ.js"),__vite__mapDeps([10,1,4,11,5,6,2,8])),meta:{requiresAuth:!1}},{path:"/reset-password",name:"reset-password",component:()=>o(()=>import("./ResetPasswordPage-D-l7mMwT.js"),__vite__mapDeps([12,1,4,11,5,6,2,8])),meta:{requiresAuth:!1}},{path:"/profile",name:"profile",component:()=>o(()=>import("./ProfilePage-B7WBSajH.js"),__vite__mapDeps([13,1,2,8])),meta:{requiresAuth:!0}},{path:"/subscribe",name:"subscribe",component:()=>o(()=>import("./SubscribePage-BKXVNLio.js"),__vite__mapDeps([14,1,2,8,15])),meta:{requiresAuth:!0}},{path:"/onboarding",name:"onboarding",component:()=>o(()=>import("./OnboardingPage-D2vL2iB1.js"),__vite__mapDeps([16,2,1,4,17,18,19,6,11,5,20,21,8])),meta:{requiresAuth:!1}},{path:"/dashboard",name:"dashboard",component:()=>o(()=>import("./DashboardPage-DU77MDtV.js"),__vite__mapDeps([22,23,1,2,11,4,18,20,19,6,24,25,21,8,26,27])),meta:{requiresAuth:!0}},{path:"/coordinators",name:"coordinators",component:()=>o(()=>import("./CoordinatorsPage-BWWLGkUf.js"),__vite__mapDeps([28,1,23,2,24,4,11,18,26,21,8])),meta:{requiresAuth:!0}},{path:"/coordinators/:id",name:"coordinator-detail",component:()=>o(()=>import("./CoordinatorDetailPage-CtojyQUT.js"),__vite__mapDeps([29,1])),meta:{requiresAuth:!0}},{path:"/contacts",name:"contacts",component:()=>o(()=>import("./ContactsPage-B4fmK0W1.js"),__vite__mapDeps([30,1,23,2,21,8,31])),meta:{requiresAuth:!0}},{path:"/appointments",name:"appointments",component:()=>o(()=>import("./AppointmentsPage-BliYAdZq.js"),__vite__mapDeps([32,1,23,2,33,21,8,26,27,34,35])),meta:{requiresAuth:!0}},{path:"/calls",name:"calls",component:()=>o(()=>import("./CallsPage-CzhnBiII.js"),__vite__mapDeps([36,1,4,11,5,6,18,25,23,2,19,17,37,21,8,27,34,35,31])),meta:{requiresAuth:!0}},{path:"/calendar",name:"calendar",component:()=>o(()=>import("./AppointmentsPage-BliYAdZq.js"),__vite__mapDeps([32,1,23,2,33,21,8,26,27,34,35])),meta:{requiresAuth:!0}},{path:"/analytics",name:"analytics",component:()=>o(()=>import("./AnalyticsPage-Dqut6IIv.js"),__vite__mapDeps([38,23,1,2,37,21,8,33,26])),meta:{requiresAuth:!0}},{path:"/billing",name:"billing",component:()=>o(()=>import("./BillingPage-DtfrOg4d.js"),__vite__mapDeps([39,1,23,2,26,21,8])),meta:{requiresAuth:!0}},{path:"/campaigns",name:"campaigns",component:()=>o(()=>import("./CampaignsPage-CkJefyAm.js"),__vite__mapDeps([40,23,1,2,21,8,34])),meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:()=>o(()=>import("./SettingsPage-BPjeibB_.js"),__vite__mapDeps([41,23,1,2,21,8])),meta:{requiresAuth:!0}}]});T.beforeEach((t,e,r)=>{const s=g();if(t.path==="/"){r();return}t.meta.requiresAuth&&!s.isAuthenticated?r("/login"):(t.path==="/login"||t.path==="/register")&&s.isAuthenticated?r("/dashboard"):r()});function Q(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registered:",t.scope),setInterval(()=>{t.update()},6e4),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&confirm("New version available! Refresh to update?")&&window.location.reload()})})}).catch(t=>{console.error("Service Worker registration failed:",t)})})}const E=K(F),Y=$();E.use(Y);E.use(T);E.mount("#app");Q();B();X();export{z as _,m as a,o as b,w as c,g as u};
