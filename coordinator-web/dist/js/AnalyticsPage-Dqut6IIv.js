import{_ as T}from"./DashboardLayout.vue_vue_type_script_setup_true_lang--joD49fW.js";import{u as j}from"./calls-CIsQ6CtL.js";import{u as P}from"./appointments-Bzht8nKU.js";import{u as M}from"./coordinators-SjO_FPaV.js";import{useOrganizationsStore as $}from"./organizations-B-TbRSUr.js";import{ac as E,w as v,a7 as O,e as V,z as N,C as R,f as H,S as L}from"./ui-vendor-XL1sGzTt.js";import{a as q,o as I,b as g,w as U,p as e,m as n,x as i,n as c,r as W,y as o,F as r,s as _,v as u,u as x,z as Z,c as G,q as J,Z as m,f as a}from"./vue-vendor-lZgBCM-Y.js";import"./index-BdtiHmgt.js";import"./utils-vendor-B9ygI19o.js";const K={class:"space-y-6"},Q={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},X={class:"flex gap-3"},Y={class:"flex bg-slate-100 p-1 rounded-lg"},ee=["onClick"],te={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},se={class:"flex items-center gap-2 mb-3"},le={class:"p-1.5 bg-blue-50 text-[#1B4F72] rounded-lg"},oe={class:"text-xs font-medium text-slate-500"},ae={class:"flex items-end justify-between"},ne={class:"text-2xl font-bold text-slate-900"},ie={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},re={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},de={class:"h-64 flex items-end justify-between gap-2"},ce=["title"],ue={key:0,class:"text-[10px] text-slate-400"},ge={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},xe={class:"grid grid-cols-2 gap-2 text-xs mt-4"},be={class:"text-slate-600"},me={class:"font-medium text-slate-900"},pe={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},fe={class:"h-64 flex items-end justify-between gap-1"},he=["title"],ve={class:"text-[10px] text-slate-400 -rotate-45 origin-top-left mt-2"},_e={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},ye={class:"space-y-4"},we={class:"flex justify-between items-center mb-2"},ke={class:"flex items-center gap-2"},Be={class:"w-6 h-6 rounded-full bg-blue-100 text-[#1B4F72] flex items-center justify-center text-xs font-bold"},Ce={class:"font-medium text-slate-900"},Fe={class:"text-sm text-slate-500"},De={class:"font-medium text-green-600"},ze={class:"h-2 bg-slate-100 rounded-full overflow-hidden"},Ae={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Se={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},Te={class:"space-y-3"},je={class:"font-medium text-slate-900"},Pe={class:"text-xs text-slate-500"},Me={class:"text-right"},$e={class:"text-lg font-bold text-green-600"},Ee={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm"},Oe={class:"text-lg font-bold text-[#1B4F72] mb-4 flex items-center gap-2"},Ve={class:"space-y-4"},Ne={class:"text-sm text-slate-700"},Ke=q({__name:"AnalyticsPage",setup(Re){const p=j(),f=P(),y=M(),d=$(),h=W("30days"),w=[{id:"7days",label:"7 Days"},{id:"30days",label:"30 Days"},{id:"90days",label:"90 Days"}],k=G(()=>[{label:"Total Calls",value:p.stats?.total_calls||"2,847",change:"+12%",trend:"up",icon:N},{label:"Appointments",value:f.appointments.length||"892",change:"+8%",trend:"up",icon:R},{label:"Answer Rate",value:"94%",change:"+2%",trend:"up",icon:v},{label:"Avg Duration",value:"2:34",change:"-0:15",trend:"down",icon:H},{label:"Satisfaction",value:"4.7/5",change:"+0.2",trend:"up",icon:L}]),B=[45,52,48,65,58,72,68,55,62,70,65,58,63,75],C=[{label:"Appt Booked",value:"32%",color:"bg-green-500"},{label:"Info Provided",value:"28%",color:"bg-blue-500"},{label:"Transferred",value:"15%",color:"bg-amber-500"},{label:"Voicemail",value:"12%",color:"bg-slate-400"},{label:"No Answer",value:"8%",color:"bg-slate-500"},{label:"Other",value:"5%",color:"bg-slate-300"}],F=[20,35,55,75,85,90,80,70,60,50,40,30],D=[{name:"Sally",calls:1247,success:89,color:"bg-blue-500"},{name:"Ed",calls:892,success:94,color:"bg-green-500"},{name:"Marcus",calls:456,success:87,color:"bg-purple-500"}],z=[{date:"Monday, Dec 15",calls:247,booked:89,rate:36},{date:"Wednesday, Dec 17",calls:235,booked:82,rate:35},{date:"Friday, Dec 19",calls:228,booked:75,rate:33},{date:"Tuesday, Dec 16",calls:215,booked:68,rate:32}],A=[{insight:"Call volume up 15% on Mondays",type:"positive"},{insight:"Ed has highest confirmation rate at 94%",type:"positive"},{insight:"Peak hours shifted to 10-11 AM",type:"neutral"},{insight:"Answer rate improved 2% this week",type:"positive"}];function S(){}return I(async()=>{try{d.currentOrganization||(await d.fetchOrganizations(),d.organizations.length>0&&d.setCurrentOrganization(d.organizations[0])),d.currentOrganization?.id&&await Promise.all([p.fetchStats(),f.fetchAppointments(),y.fetchCoordinators()])}catch(b){console.error("Failed to load analytics:",b)}}),(b,s)=>(a(),g(T,null,{default:U(()=>[e("div",K,[e("div",Q,[s[1]||(s[1]=e("h1",{class:"text-3xl font-heading font-bold text-[#1B4F72]"}," Analytics ",-1)),e("div",X,[e("div",Y,[(a(),n(r,null,i(w,t=>e("button",{key:t.id,onClick:l=>h.value=t.id,class:c(["px-3 py-1.5 rounded-md text-xs font-medium transition-all",h.value===t.id?"bg-white text-[#1B4F72] shadow-sm":"text-slate-500 hover:text-slate-700"])},o(t.label),11,ee)),64))]),e("button",{onClick:S,class:"px-4 py-2 border border-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2"},[_(x(E),{size:18}),s[0]||(s[0]=u(" Export ",-1))])])]),e("div",te,[(a(!0),n(r,null,i(k.value,(t,l)=>(a(),n("div",{key:l,class:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm"},[e("div",se,[e("div",le,[(a(),g(Z(t.icon),{size:16}))]),e("span",oe,o(t.label),1)]),e("div",ae,[e("div",ne,o(t.value),1),e("div",{class:c(["flex items-center gap-1 text-xs font-medium",t.trend==="up"?"text-green-600":"text-red-600"])},[t.trend==="up"?(a(),g(x(v),{key:0,size:12})):(a(),g(x(O),{key:1,size:12})),u(" "+o(t.change),1)],2)])]))),128))]),e("div",ie,[e("div",re,[s[2]||(s[2]=e("h3",{class:"text-lg font-bold text-[#1B4F72] mb-4"},"Call Volume",-1)),e("div",de,[(a(),n(r,null,i(B,(t,l)=>e("div",{key:l,class:"flex-1 flex flex-col items-center gap-1"},[e("div",{class:"w-full bg-gradient-to-t from-[#1B4F72] to-blue-400 rounded-t-sm hover:opacity-80 transition-opacity cursor-pointer",style:m({height:`${t}%`}),title:`Day ${l+1}: ${Math.round(t*1.5)} calls`},null,12,ce),l%2===0?(a(),n("span",ue,o(l+1),1)):J("",!0)])),64))]),s[3]||(s[3]=e("div",{class:"flex justify-center gap-6 mt-4 text-xs"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-[#1B4F72]"}),e("span",{class:"text-slate-600"},"Total")])],-1))]),e("div",ge,[s[4]||(s[4]=e("h3",{class:"text-lg font-bold text-[#1B4F72] mb-4"}," Outcomes Breakdown ",-1)),s[5]||(s[5]=e("div",{class:"flex items-center justify-center h-64"},[e("div",{class:"relative w-48 h-48"},[e("div",{class:"w-full h-full rounded-full",style:{background:`conic-gradient(
                    from 0deg,
                    #10B981 0% 32%,
                    #3B82F6 32% 60%,
                    #F59E0B 60% 75%,
                    #94A3B8 75% 87%,
                    #64748B 87% 95%,
                    #E2E8F0 95% 100%
                  )`}},[e("div",{class:"absolute inset-0 m-auto w-28 h-28 bg-white rounded-full flex items-center justify-center"},[e("div",{class:"text-center"},[e("div",{class:"text-2xl font-bold text-slate-900"}," 2,847 "),e("div",{class:"text-xs text-slate-500"},"Total")])])])])],-1)),e("div",xe,[(a(),n(r,null,i(C,(t,l)=>e("div",{key:l,class:"flex items-center gap-2"},[e("div",{class:c(["w-2 h-2 rounded-full",t.color])},null,2),e("span",be,[u(o(t.label)+": ",1),e("span",me,o(t.value),1)])])),64))])]),e("div",pe,[s[6]||(s[6]=e("h3",{class:"text-lg font-bold text-[#1B4F72] mb-4"}," Calls by Hour ",-1)),e("div",fe,[(a(),n(r,null,i(F,(t,l)=>e("div",{key:l,class:"flex-1 flex flex-col items-center gap-1"},[e("div",{class:"w-full bg-[#F59E0B] rounded-t hover:bg-[#D97706] transition-colors cursor-pointer",style:m({height:`${t}%`}),title:`${8+l}:00 - ${Math.round(t*1.2)} calls`},null,12,he),e("span",ve,o(8+l),1)])),64))]),s[7]||(s[7]=e("div",{class:"text-center mt-6 text-xs text-slate-500"}," Peak hours: 10-11 AM ",-1))]),e("div",_e,[s[8]||(s[8]=e("h3",{class:"text-lg font-bold text-[#1B4F72] mb-4"}," 4 Call Performance ",-1)),e("div",ye,[(a(),n(r,null,i(D,(t,l)=>e("div",{key:l},[e("div",we,[e("div",ke,[e("div",Be,o(t.name.charAt(0)),1),e("span",Ce,o(t.name),1)]),e("div",Fe,[u(o(t.calls)+" calls • ",1),e("span",De,o(t.success)+"% ",1)])]),e("div",ze,[e("div",{class:c(["h-full rounded-full",t.color]),style:m({width:`${t.success}%`})},null,6)])])),64))])])]),e("div",Ae,[e("div",Se,[s[10]||(s[10]=e("h3",{class:"text-lg font-bold text-[#1B4F72] mb-4"}," Top Performing Days ",-1)),e("div",Te,[(a(),n(r,null,i(z,(t,l)=>e("div",{key:l,class:"flex justify-between items-center p-3 bg-slate-50 rounded-lg border border-slate-100"},[e("div",null,[e("div",je,o(t.date),1),e("div",Pe,o(t.calls)+" calls • "+o(t.booked)+" booked ",1)]),e("div",Me,[e("div",$e,o(t.rate)+"% ",1),s[9]||(s[9]=e("div",{class:"text-xs text-slate-500"},"booking rate",-1))])])),64))])]),e("div",Ee,[e("h3",Oe,[_(x(V),{size:20,class:"text-amber-500"}),s[11]||(s[11]=u(" Recent Trends ",-1))]),e("div",Ve,[(a(),n(r,null,i(A,(t,l)=>e("div",{key:l,class:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-100"},[e("div",{class:c(["w-2 h-2 rounded-full mt-1.5 flex-shrink-0",t.type==="positive"?"bg-green-500":"bg-blue-500"])},null,2),e("p",Ne,o(t.insight),1)])),64))])])])])]),_:1}))}});export{Ke as default};
